(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{L9NX:function(t,e,r){"use strict";var n=r("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(r("2Taf")),u=n(r("vZ4D")),o=n(r("l4Ni")),c=n(r("ujKo")),i=n(r("MhPg")),s=n(r("q1tI")),l=r("Hg0r"),f=r("Hx5s"),d=r("ArA+"),p=r("s4NR");function h(t){return function(){var e,r=(0,c.default)(t);if(v()){var n=(0,c.default)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,o.default)(this,e)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var y=function(t){(0,i.default)(r,t);var e=h(r);function r(){var t;(0,a.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return t=e.call.apply(e,[this].concat(u)),t.state={isReady:!1},t}return(0,u.default)(r,[{key:"componentDidMount",value:function(){this.setState({isReady:!0});var t=this.props.dispatch;t&&t({type:"user/fetchCurrent"})}},{key:"render",value:function(){var t=this.state.isReady,e=this.props,r=e.children,n=e.loading,a=e.currentUser,u=a&&a.id,o=(0,p.stringify)({redirect:window.location.href});return!u&&n||!t?s.default.createElement(f.PageLoading,null):u||"/user/login"===window.location.pathname?r:s.default.createElement(d.Redirect,{to:"/user/login?".concat(o)})}}]),r}(s.default.Component),g=(0,l.connect)(function(t){var e=t.user,r=t.loading;return{currentUser:e.currentUser,loading:r.models.user}})(y);e.default=g}}]);